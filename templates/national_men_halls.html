<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>National Men Halls - Football Data</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <style>
        .stats-container { min-height: 100vh; background: #ffffff; }
        .main-tabs-container { max-width: 1400px; margin: 0 auto; padding: 2rem; }
        .back-to-main { margin-bottom: 2rem; }
        .back-btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: #6c757d; color: white; text-decoration: none; border-radius: 8px; font-weight: 500; transition: all 0.3s ease; }
        .back-btn:hover { background: #5a6268; transform: translateY(-2px); }
        .back-btn .icon { width: 20px; height: 20px; }
        .stats-content { background: rgba(255, 255, 255, 0.95); border-radius: 20px; padding: 2rem; backdrop-filter: blur(10px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .page-header { text-align: center; margin-bottom: 1.5rem; }
        .page-title { font-size: 2rem; font-weight: 700; color: #333; }
        .filters-section { background: white; border-radius: 15px; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 10px 30px rgba(0,0,0,0.06); }
        .filters-title { font-size: 1.25rem; font-weight: 700; color: #333; margin: 0 0 1rem 0; padding-bottom: 0.5rem; border-bottom: 2px solid #667eea; }
        .filter-grid { display: flex; flex-direction: column; gap: 1rem; }
        .filter-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; }
        .filter-item { display: flex; flex-direction: column; }
        .filter-item label { font-size: 0.9rem; font-weight: 600; color: #555; margin-bottom: 0.5rem; }
        .filter-control { background: white; border: 2px solid #e0e0e0; border-radius: 10px; padding: 0.6rem 0.9rem; font-size: 0.95rem; transition: border-color 0.3s ease; width: 100%; }
        .filter-control:focus { outline: none; border-color: #667eea; }
        .filter-actions { display: flex; gap: 0.75rem; margin-top: 0.5rem; justify-content: center; flex-wrap: wrap; }
        .btn { border: none; border-radius: 10px; padding: 0.6rem 1.25rem; font-size: 0.95rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; white-space: nowrap; min-width: 150px; display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .btn-apply { background: #28a745; color: white; }
        .btn-apply:hover { background: #218838; transform: translateY(-2px); }
        .btn-clear { background: #ff6b35; color: white; }
        .btn-clear:hover { background: #e55a2b; transform: translateY(-2px); }
        .btn-refresh { background: #667eea; color: white; }
        .btn-refresh:hover { background: #5568d3; transform: translateY(-2px); }
        .loading-container { display: flex; justify-content: center; align-items: center; min-height: 200px; flex-direction: column; gap: 1rem; }
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #dc143c; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
        .matches-section { background: white; border-radius: 15px; padding: 1.5rem; box-shadow: 0 10px 30px rgba(0,0,0,0.06); }
        .section-title { font-size: 1.4rem; font-weight: 600; color: #333; margin-bottom: 1rem; text-align: center; }
        .matches-table { width: 100%; border-collapse: collapse; background: white; }
        .matches-table thead { background: #f8f9fa; }
        .matches-table th { padding: 0.75rem; text-align: center; font-weight: 600; font-size: 0.9rem; color: #333; border-bottom: 2px solid #dee2e6; }
        .matches-table td { padding: 0.75rem; text-align: center; border-bottom: 1px solid #eee; }
        .matches-table tbody tr:hover { background: #f8f9fa; }
        /* W/L cell colors */
        .wl-cell { font-weight: 700; border-radius: 8px; padding: 0.35rem 0.5rem; display: inline-block; min-width: 2.25rem; }
        .wl-win { background: rgba(40, 167, 69, 0.15); color: #0f5132; }
        .wl-draw { background: rgba(255, 159, 67, 0.2); color: #7a4d12; }
        .wl-loss { background: rgba(220, 53, 69, 0.15); color: #842029; }
        @media (max-width: 1200px) { .filter-row { grid-template-columns: repeat(2, 1fr);} }
        @media (max-width: 768px) { .filter-row { grid-template-columns: 1fr;} }
    </style>
    <script>
        window.NATIONAL_MEN_HALLS_COLUMNS = [
            'GAME','AGE','Season','Host Country','Date','Category','Round','TeamA','TeamAScore','TeamBScore','TeamB','TeamAPEN','TeamBPEN'
        ];
    </script>
    <script src="{{ url_for('static', filename='browser_cache.js') }}"></script>
    <script src="{{ url_for('static', filename='national_men_halls/national_men_halls.js') }}" defer></script>
    </head>
<body>
    <div class="stats-container">
        <div class="main-tabs-container">
            <div class="back-to-main">
                <a href="/" class="back-btn">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 12H5M12 19l-7-7 7-7"></path>
                    </svg>
                    Back to Main Dashboard
                </a>
            </div>
            <div class="stats-content">
                <div class="page-header">
                    <h1 class="page-title">National Men Halls</h1>
                </div>

                <div class="filters-section">
                    <h2 class="filters-title">üîç Filters</h2>
                    <div class="filter-grid">
                        <div class="filter-row">
                            <div class="filter-item">
                                <label>GAME</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-GAME" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>AGE</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-AGE" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>Season</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-Season" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>Host Country</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-Host Country" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="filter-row">
                            <div class="filter-item">
                                <label>Date From</label>
                                <input type="date" id="filter-DateFrom" class="filter-control">
                            </div>
                            <div class="filter-item">
                                <label>Date To</label>
                                <input type="date" id="filter-DateTo" class="filter-control">
                            </div>
                            <div class="filter-item">
                                <label>Category</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-Category" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>Round</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-Round" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="filter-row">
                            <div class="filter-item">
                                <label>Teams</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-Teams" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>Team A PEN</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-TeamAPEN" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                            <div class="filter-item">
                                <label>Team B PEN</label>
                                <div class="searchable-select-container">
                                    <input type="text" id="filter-TeamBPEN" class="filter-control" placeholder="All" autocomplete="off">
                                    <div class="dropdown-options" style="display: none;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="filter-actions">
                        <button class="btn btn-apply" onclick="window.nationalMenHalls.applyFilters()">Apply Filters</button>
                        <button class="btn btn-clear" onclick="window.nationalMenHalls.clearFilters()">Clear All</button>
                        <button class="btn btn-refresh" onclick="window.nationalMenHalls.loadData(true)">Sync Data</button>
                    </div>
                </div>

                <div id="loading-container" class="loading-container">
                    <div class="spinner"></div>
                    <p>Loading data...</p>
                </div>

                <div id="content-container" style="display: none;">
                    <!-- Simple Tabs -->
                    <div style="display:flex; gap:0.5rem; margin-bottom:1rem; justify-content:center; max-width:520px; margin-left:auto; margin-right:auto; width:100%;">
                        <button id="nmh-tab-matches-btn" class="stats-tab active" style="padding:0.6rem 1rem; border-radius:10px; border:none; background:#007bff; color:#fff; font-weight:600; cursor:pointer; flex:1;">Matches</button>
                        <button id="nmh-tab-teams-btn" class="stats-tab" style="padding:0.6rem 1rem; border-radius:10px; border:none; background:#f1f3f5; color:#495057; font-weight:600; cursor:pointer; flex:1;">Teams Stats</button>
                    </div>

                    <!-- Matches Tab -->
                    <div id="nmh-matches-tab" class="matches-section">
                        <h2 class="section-title">Matches</h2>
                        <div class="table-search-container">
                            <input type="search" id="matches-search-input" class="table-search-input" placeholder="Search in matches table...">
                        </div>
                        <div style="overflow-x: auto;">
                            <table class="matches-table" id="national-men-halls-table">
                                <thead>
                                    <tr>
                                        <th>GAME</th>
                                        <th>AGE</th>
                                        <th>Season</th>
                                        <th>Round</th>
                                        <th>TeamA</th>
                                        <th>TeamAScore</th>
                                        <th>TeamBScore</th>
                                        <th>TeamB</th>
                                        <th>W/L</th>
                                    </tr>
                                </thead>
                                <tbody id="national-men-halls-tbody"></tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Teams Stats Tab -->
                    <div id="nmh-teams-tab" class="matches-section" style="display:none;">
                        <h2 class="section-title">Teams Statistics</h2>
                        <div class="table-search-container">
                            <input type="search" id="nmh-teams-search-input" class="table-search-input" placeholder="Search in teams table...">
                        </div>
                        <div style="overflow-x:auto;">
                            <table class="matches-table">
                                <thead>
                                    <tr>
                                        <th>Team</th>
                                        <th>Participations</th>
                                        <th>Matches</th>
                                        <th>Win</th>
                                        <th>Draw</th>
                                        <th>Loss</th>
                                        <th>GF</th>
                                        <th>GA</th>
                                    </tr>
                                </thead>
                                <tbody id="nmh-teams-stats-tbody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</body>
</html>


